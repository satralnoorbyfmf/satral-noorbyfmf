<!DOCTYPE html>
<html>
<head>
    <title>Admin - Satr Al-Noor</title>
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <style>
        body { font-family: sans-serif; padding: 20px; background: #eef2f3; }
        .box { background: #fff; padding: 20px; border-radius: 8px; max-width: 400px; margin: auto; }
        input, select { width: 100%; padding: 10px; margin: 10px 0; border: 1px solid #ddd; }
        .btn { background: #003a2b; color: #d4af37; padding: 12px; border: none; width: 100%; cursor: pointer; font-weight: bold; }
    </style>
</head>
<body>
    <div class="box">
        <h2>Add New Product</h2>
        <input type="text" id="pName" placeholder="Product Name">
        <input type="number" id="pPrice" placeholder="Price (TK)">
        <input type="text" id="pImage" placeholder="Direct Image Link">
        <select id="pCat">
            <option value="Pakistani">Pakistani</option>
            <option value="Pakistani Inspired">Pakistani Inspired</option>
            <option value="Bangladeshi">Bangladeshi</option>
        </select>
        <p>Sizes: 
            <input type="checkbox" class="sz" value="S"> S 
            <input type="checkbox" class="sz" value="M"> M 
            <input type="checkbox" class="sz" value="L"> L 
            <input type="checkbox" class="sz" value="XL"> XL
        </p>
        <select id="pStock">
            <option value="in">In Stock</option>
            <option value="out">Stock Out</option>
        </select>
        <button class="btn" onclick="save()">Save Product</button>
        <button onclick="window.location.href='index.html'" style="width:100%; background:none; border:none; color:blue; margin-top:10px;">Home</button>
    </div>

    <script>
        const DB_URL = "https://satr-al-noor-by-fmf-default-rtdb.firebaseio.com/products.json";
        async function save() {
            const sizes = Array.from(document.querySelectorAll('.sz:checked')).map(s => s.value);
            const data = {
                name: document.getElementById('pName').value,
                price: document.getElementById('pPrice').value,
                image: document.getElementById('pImage').value,
                cat: document.getElementById('pCat').value,
                stock: document.getElementById('pStock').value,
                sizes: sizes,
                time: Date.now()
            };
            await fetch(DB_URL, { method: 'POST', body: JSON.stringify(data) });
            alert("Done!");
            location.reload();
        }
    </script>
</body>
</html>
