<!DOCTYPE html>
<html>
<head>
    <title>Satr Al-Noor Admin Panel</title>
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <style>
        body { font-family: sans-serif; padding: 20px; background: #eef2f3; }
        .admin-card { background: white; padding: 20px; border-radius: 12px; max-width: 450px; margin: auto; box-shadow: 0 4px 15px rgba(0,0,0,0.1); }
        input, select, textarea { width: 100%; padding: 12px; margin: 10px 0; border: 1px solid #ddd; border-radius: 6px; box-sizing: border-box; }
        .save-btn { background: #003a2b; color: #d4af37; padding: 15px; border: none; width: 100%; cursor: pointer; font-weight: bold; border-radius: 6px; font-size: 16px; }
        .back-link { display: block; text-align: center; margin-top: 15px; color: #666; text-decoration: none; }
    </style>
</head>
<body>
    <div class="admin-card">
        <h2 style="text-align:center; color:#003a2b;">Add New Product</h2>
        <input type="text" id="pName" placeholder="Product Name (যেমন: Pakistani Luxury Lawn)">
        <textarea id="pDesc" placeholder="Description (যেমন: 3 Piece Cotton)"></textarea>
        <input type="number" id="pPrice" placeholder="Price (TK)">
        <input type="text" id="pImage" placeholder="Image URL (ছবির লিঙ্ক)">
        
        <select id="pCat">
            <option value="Pakistani">Pakistani</option>
            <option value="Indian">Indian</option>
            <option value="Bangladeshi">Bangladeshi</option>
        </select>

        <div style="margin: 10px 0;">
            <b>Select Sizes Available:</b><br>
            <input type="checkbox" class="sz" value="S"> S 
            <input type="checkbox" class="sz" value="M"> M 
            <input type="checkbox" class="sz" value="L"> L 
            <input type="checkbox" class="sz" value="XL"> XL
        </div>

        <select id="pStock">
            <option value="in">Stock In</option>
            <option value="out">Stock Out</option>
        </select>

        <button class="save-btn" onclick="saveProduct()">Upload to Website</button>
        <a href="index.html" class="back-link">Back to Shop</a>
    </div>

    <script>
        const DB_URL = "https://satr-al-noor-by-fmf-default-rtdb.firebaseio.com/products.json";

        async function saveProduct() {
            const sizes = Array.from(document.querySelectorAll('.sz:checked')).map(s => s.value);
            const data = {
                name: document.getElementById('pName').value,
                desc: document.getElementById('pDesc').value,
                price: document.getElementById('pPrice').value,
                image: document.getElementById('pImage').value,
                cat: document.getElementById('pCat').value,
                stock: document.getElementById('pStock').value,
                sizes: sizes
            };

            if(!data.name || !data.price || !data.image) { alert("নাম, দাম এবং ছবির লিঙ্ক অবশ্যই দিতে হবে!"); return; }

            await fetch(DB_URL, {
                method: 'POST',
                body: JSON.stringify(data)
            });
            alert("Product added successfully!");
            location.reload();
        }
    </script>
</body>
</html>
